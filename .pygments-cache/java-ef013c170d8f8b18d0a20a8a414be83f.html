<div class="highlight"><pre><span class="cm">/* Modify OperationBinding, set to use POSTMESSAGE protocol */</span>
<span class="n">setDataProtocol</span><span class="o">(</span><span class="n">DSProtocol</span><span class="o">.</span><span class="na">POSTPARAMS</span><span class="o">);</span>

<span class="cm">/* in ItemDS */</span>
<span class="kd">static</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">setValue</span><span class="o">(</span><span class="n">JavaScriptObject</span> <span class="n">jso</span><span class="o">,</span> <span class="n">String</span> <span class="n">val</span><span class="o">)</span> <span class="cm">/*-{</span>
<span class="cm">        jso.toString = function() {</span>
<span class="cm">                    return val;</span>
<span class="cm">                        }</span>
<span class="cm">}-*/</span><span class="o">;</span>
<span class="cm">/* in transformRequest */</span>
<span class="cm">/* ... setup content type ... */</span>
<span class="kd">final</span> <span class="n">JavaScriptObject</span> <span class="n">data</span> <span class="o">=</span> <span class="n">JSOHelper</span><span class="o">.</span><span class="na">createObject</span><span class="o">();</span>
<span class="n">setValue</span><span class="o">(</span><span class="n">data</span><span class="o">,</span> <span class="s">&quot;{uid:&#39;12345&#39;}&quot;</span><span class="o">);</span>
<span class="n">req</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
<span class="k">return</span> <span class="n">data</span><span class="o">;</span>
</pre></div>