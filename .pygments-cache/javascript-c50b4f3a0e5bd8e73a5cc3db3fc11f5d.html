<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#entries&quot;</span><span class="p">).</span><span class="nx">live</span><span class="p">(</span><span class="s1">&#39;DOMNodeInserted&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">className</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/entry\-actions/</span><span class="p">))</span>
        <span class="k">return</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">entryAction</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EntryAction</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">entryAction</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^http\:\/\/feeds\.dzone\.com/</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">entryAction</span><span class="p">.</span><span class="nx">addAction</span><span class="p">({</span>
            <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Click Through&#39;</span><span class="p">,</span>
            <span class="s1">&#39;fn&#39;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">entry</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">chrome</span><span class="p">.</span><span class="nx">extension</span><span class="p">.</span><span class="nx">sendRequest</span><span class="p">({</span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;fetch_entry&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="o">:</span><span class="nx">entry</span><span class="p">.</span><span class="nx">url</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">matched</span> <span class="o">=</span> <span class="sr">/&lt;div class=&quot;ldTitle&quot;&gt;(.*?)&lt;\/div&gt;/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
                    <span class="kd">var</span> <span class="nx">href</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">matched</span><span class="p">[</span><span class="mi">1</span><span class="p">]).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">));</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">href</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">chrome</span><span class="p">.</span><span class="nx">extension</span><span class="p">.</span><span class="nx">sendRequest</span><span class="p">({</span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;open_tab&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="o">:</span><span class="nx">href</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
                            <span class="c1">// TODO: do something afterwards?</span>
                        <span class="p">});</span>
                    <span class="p">}</span>
                <span class="p">});</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>